"use strict";angular.module("balanceApp",["ngAnimate","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","LocalStorageModule","download","chart.js"]).config(["ChartJsProvider",function(a){var b=["#4CAF50","#03A9F4","#FF9800","#795548","#F44336","#E91E63","#009688","#827717","#9C27B0","#673AB7","#00BCD4","#CDDC39","#FFC107","#9E9E9E"];Chart.defaults.global.colors=b,a.setOptions({colors:b})}]).config(["$rootScopeProvider",function(a){a.digestTtl(25)}]).config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist(/^\s*(https?|local|data|chrome-extension):/)}]).config(["$routeProvider",function(a){a.when("/menu",{templateUrl:"views/main.html",controller:"DashboardCtrl",title:"Dashboard"}).when("/sms/list",{templateUrl:"views/sms/list.page.html",controller:"SmsListCtrl",title:"SMS List"}).when("/contact/list",{templateUrl:"views/contact/list.page.html",controller:"ContactListCtrl",title:"Contacts"}).when("/contact/:name",{templateUrl:"views/contact/item.page.html",controller:"ContactItemCtrl",title:"Contact SMS"}).when("/bank/list",{templateUrl:"views/bank/list.page.html",controller:"BankListCtrl",title:"Bank List"}).when("/bank/add",{templateUrl:"views/bank/add.page.html",controller:"BankConnectCtrl",title:"Add Bank"}).when("/bank/:name",{templateUrl:"views/bank/item.page.html",controller:"BankItemCtrl",title:"Bank Setup"}).when("/category/list",{templateUrl:"views/category/list.page.html",controller:"CategoryListCtrl",title:"Categories"}).when("/transaction/list",{templateUrl:"views/transaction/list.page.html",controller:"TransactionListCtrl",title:"Transactions"}).when("/filter/list",{templateUrl:"views/filter/list.page.html",controller:"FilterListCtrl",title:"Filters"}).when("/report/categories",{templateUrl:"views/report/categories.page.html",controller:"ReportCategoriesCtrl",title:"By Category"}).when("/report/expenses",{templateUrl:"views/report/expenses.page.html",controller:"ReportExpensesCtrl",title:"Expenses"}).when("/report/balance",{templateUrl:"views/report/balance.page.html",controller:"ReportBalanceCtrl",title:"Balance"}).when("/dashboard",{templateUrl:"views/investment/dashboard.page.html",controller:"InvestmentDashboardCtrl",title:"Investments"}).when("/investment/list",{templateUrl:"views/investment/list.page.html",controller:"InvestmentListCtrl",title:"Investments"}).when("/investment/instrument",{templateUrl:"views/investment/instrument.page.html",controller:"InvestmentInstrumentCtrl",title:"Instrument"}).when("/investment/instrument/:name",{templateUrl:"views/investment/instrument.page.html",controller:"InvestmentInstrumentCtrl",title:"Instrument"}).otherwise({redirectTo:"/dashboard"})}]).run(["$rootScope",function(a){a.$on("$routeChangeSuccess",function(b,c,d){a.title=c.$$route.title})}]).run(["$window",function(a){a.FastClick.attach(document.body)}]),angular.module("balanceApp").controller("MainCtrl",["$scope","$window","$rootScope",function(a,b,c){a.$ready=!0,a.app={},c.$on("$locationChangeSuccess",function(){a.app.page=""}),a.goBack=function(){b.history.back()}}]),angular.module("balanceApp").directive("uiSection",function(){return{template:'<section class="ui-section"><h5 class="ui-section-header" ng-click="hide=!hide">{{heading}}</h5><div class="ui-section-body" ng-if="!hide" ng-transclude></div></section>',transclude:!0,scope:{heading:"@",hide:"=?"},restrict:"E"}}),angular.module("balanceApp").controller("SmsListCtrl",["$scope","SmsService",function(a,b){a.smsService=b}]),angular.module("balanceApp").controller("ContactListCtrl",["$scope","ContactService",function(a,b){a.contactService=b}]),angular.module("balanceApp").controller("ContactItemCtrl",["$scope","$routeParams","ContactService",function(a,b,c){a.contactName=b.name,a.contactService=c}]),angular.module("balanceApp").controller("DashboardCtrl",["$scope","download","$filter","SmsService","FilterService","TransactionService","BankService","CategoryService","$window","localStorageService","$http","CacheService","$q","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.$sce=n,a._={},a.getBackupData=function(){var a={smsList:d.getList(),filterList:e.filterList,bankList:g.getBankList(),categoryList:h.data.categoryList,transactions:{categorize:f.getAllTransactionCategorize(),manual:f.getManualTransactions()}};return a},a.restoreBackup=function(b){var c=JSON.parse(b);c.smsList&&c.filterList&&c.bankList&&c.categoryList&&c.transactions&&(a._setBackupData(c),l.clearAll())},a._setBackupData=function(a){j.set("smsList",a.smsList),j.set("filterList",a.filterList),j.set("bankList",a.bankList),j.set("categoryList",a.categoryList),j.set("manualTransactions",a.transactions.manual),j.set("categorizeTransactions",a.transactions.categorize)},a.importSMS=function(a){a=a||"localhost:8081",k.get(("http:"===i.location.protocol?"http://":"https://")+a+"/backup/last").then(function(a){d.importSms(a.data),l.clearAll(),alert("done")})},a.downloadBackup=function(){b.fromData(i.unescape(i.encodeURIComponent(JSON.stringify(a.getBackupData()))),"application/json","i-balance_backup."+c("date")(new Date,"dd.MM.yyyy-HH.mm")+".json")},a.sync={server:j.get("syncServer")||"192.168.1.105",port:"http:"===i.location.protocol?8080:8081},a.syncError=function(b){console.log(b),alert("Oops, some error occurred. "+c("json")(b)),a.$syncing=!1},a.syncSkip=function(){a.sync.$syncing=!1},a.syncDone=function(){a.sync.$syncing=!1,i.location.reload()},a.syncAll=function(){a.sync.$syncing||(a.sync.$syncing=!0,a.syncCheck().then(function(){return a.syncSMS().then(a.syncGetRestore).then(a.syncMerge).then(a.syncBackup).then(a.syncCourses).then(a.syncDone)["catch"](a.syncError)},a.syncSkip))},a.merge=function(a,b,c){return _.uniq(_.union(a,b),!1,c)},a.syncCourses=function(){var b=m.defer();return k.get(a.syncServerUrl()+"/courses/force").then(function(a){j.set("courses",a.data),b.resolve()},b.reject),b.promise},a.syncMerge=function(b){var c=m.defer(),e=b.data;return j.set("smsList",a.merge(e.smsList,j.get("smsList")||[],d.smsId)),j.set("filterList",a.merge(j.get("filterList")||[],e.filterList,function(a){return a.category+"::"+a.text})),j.set("bankList",_.extend(j.get("bankList")||{},e.bankList)),j.set("categoryList",a.merge(j.get("categoryList")||[],e.categoryList,function(a){return a.name+" "+a.lvl+" "+a.parent})),j.set("manualTransactions",a.merge(j.get("manualTransactions")||[],e.transactions.manual,function(a){return a.name+a.date})),j.set("categorizeTransactions",_.extend(j.get("categorizeTransactions")||{},e.transactions.categorize)),c.resolve(),c.promise},a.syncCheck=function(){var b=m.defer();return console.log("Check"),k.get(a.syncServerUrl()+"/check",{timeout:1e3}).then(b.resolve,function(c){var d=prompt("Server unavailable. "+c.statusText+"Add new address:",a.sync.server);d?(a.sync.server=d,j.set("syncServer",d),a.syncCheck().then(b.resolve,b.reject)):b.reject()}),b.promise},a.syncServerUrl=function(){return("http:"===i.location.protocol?"http://":"https://")+a.sync.server+":"+a.sync.port},a.syncBackup=function(){return k.post(a.syncServerUrl()+"/storage",a.getBackupData())},a.syncGetRestore=function(){return k.get(a.syncServerUrl()+"/storage")},a.syncSMS=function(){var b=m.defer();return k.get(a.syncServerUrl()+"/backup/last").then(function(a){d.importSms(a.data),l.clearAll(),b.resolve()},b.reject),b.promise},a.clearStorage=function(){j.clearAll(),i.location.reload()}}]),angular.module("balanceApp").controller("BankListCtrl",["$scope","$location","BankService",function(a,b,c){a.bankService=c,0===a.bankService.getBankList().length&&b.path("/bank/add")}]),angular.module("balanceApp").controller("BankItemCtrl",["$scope","$routeParams","BankService",function(a,b,c){a.bankService=c,a.bank=c.findByName(b.name)}]),angular.module("balanceApp").controller("BankConnectCtrl",["$scope","$location","$anchorScroll","BankService","ContactService",function(a,b,c,d,e){a.connection={step:"name",steps:["name","contact","keywords.deductions","keywords.income","keywords.cash"]},a.contactService=e,a.nextStep=function(){var b=a.connection.steps.indexOf(a.connection.step);b+1===a.connection.steps.length?a.save():a.connection.step=a.connection.steps[b+1],a.bank.contact&&(a.bankSmsList=d.getBankSmsList(a.bank)),c()},a.bank={name:"",contact:"",keywords:{deduction:"",income:"",cash:""}},a.save=function(){d.addBank(a.bank),b.path("/bank/list")},a._smsBodyMatch=function(a,b){return b&&-1!==a.body.indexOf(b)},a.isCash=function(b){return a._smsBodyMatch(b,a.bank.keywords.cash)},a.isIncome=function(b){return a._smsBodyMatch(b,a.bank.keywords.income)},a.isDeduction=function(b){return a._smsBodyMatch(b,a.bank.keywords.deduction)},a.isIncomeAndDeduction=function(b){return a.isDeduction(b)&&a.isIncome(b)},a.isHasSmsParseErrors=function(b){for(var c in b)if(_.filter(a.bankSmsList,b[c]).length)return!0;return!1},a.isIncomeOrDeductionAndCash=function(b){return a.isCash(b)&&(a.isDeduction(b)||a.isIncome(b))}}]),angular.module("balanceApp").controller("CategoryListCtrl",["$scope","CategoryService","ReportService",function(a,b,c){a.categoryData=b.data,a.addCategory=b.addCategory,a.removeCategory=b.removeCategory,a.reportService=c}]),angular.module("balanceApp").factory("CategoryService",["localStorageService","$uibModal",function(a,b){var c=[{name:"Assets",lvl:0},{name:"₴",lvl:1,parent:"Assets"},{name:"Equipment",lvl:1,parent:"Assets"},{name:"Liabilities",lvl:0},{name:"Bank Accounts",lvl:1,parent:"Liabilities"},{name:"Loans",lvl:1,parent:"Liabilities"},{name:"Revenue",lvl:0},{name:"Income",lvl:1,parent:"Revenue"},{name:"Other Income",lvl:1,parent:"Revenue"},{name:"Expenses",lvl:0},{name:"Food",lvl:1,parent:"Expenses"},{name:"Utilities",lvl:1,parent:"Expenses"},{name:"Travels",lvl:1,parent:"Expenses"},{name:"Equity",lvl:0},{name:"$",lvl:1,parent:"Equity"},{name:"€",lvl:1,parent:"Equity"},{name:"₴",lvl:1,parent:"Equity"}],d=function(a){var b={},c={};return _.forEach(_.sortBy(angular.copy(a),"lvl"),function(a){a.hidden||(a.child=[],c[a.name]=a,0===a.lvl?b[a.name]=c[a.name]:c[a.parent].child.push(a))}),_.values(b)},e=function(a){var b=[];return _.forEach(a,function(a){b.push({category:a.name,name:a.name,type:"group",value:a.name,lvl:0}),_.forEach(a.child,function(c){c.child.length?(b.push({category:c.name,name:"⋅ "+c.name,type:"group",value:a.name+":"+c.name,lvl:1}),_.forEach(c.child,function(d){b.push({category:d.name,name:"⋅ ⋅ "+d.name,type:"option",value:a.name+":"+c.name+":"+d.name,lvl:2})})):b.push({category:c.name,name:"⋅ "+c.name,type:"option",value:a.name+":"+c.name,lvl:1})})}),b},f={},g={data:f,init:function(){return f.categoryList=a.get("categoryList")||c,f.categoryTree=d(f.categoryList),f.categoryOptions=e(f.categoryTree),g},addCategory:function(c){b.open({controller:"CategoryAddCtrl",templateUrl:"views/category/add.modal.html",resolve:{parent:function(){return c}}}).result.then(function(b){f.categoryList.push(b),a.set("categoryList",f.categoryList),g.init()})},removeCategory:function(b){var c=_.find(f.categoryList,{name:b.name});f.categoryList=_.without(f.categoryList,c),a.set("categoryList",f.categoryList),g.init()}};return g.init()}]),angular.module("balanceApp").controller("CategoryAddCtrl",["$scope","$uibModalInstance","parent",function(a,b,c){a.parent=c,a.cancel=b.dismiss,a.category={name:""},a.save=function(){b.close({lvl:c.lvl+1,parent:c.name,name:a.category.name})}}]),angular.module("balanceApp").controller("TransactionListCtrl",["$scope","TransactionService","$routeParams","CategoryService","ReportService","$filter",function(a,b,c,d,e,f){a.transactionsInit=function(){a.transactionList=b.getAll()},a.categoryService=d,a.reportService=e,a.transactionService=b,a.filter={from:c.from||null,to:c.to||null,bank:"",type:c.category?"":"Deductions",category:c.category?"all":"uncategorized",byCategory:c.category?c.category:""},a.isUncategorizedFilter=function(){return"uncategorized"===a.filter.category&&"Deductions"===a.filter.type},a.filterTransactions=function(b){var c=function(a){return a?new Date(a).getTime():a};return a.filter.from&&b.date<c(a.filter.from)?!1:a.filter.to&&b.date>c(a.filter.to)?!1:a.filter.bank&&b.bank!==a.filter.bank?!1:a.filter.byCategory&&a.filter.byCategory!==b.category&&a.filter.byCategory!==b.to&&a.filter.byCategory!==b.from?!1:"Deductions"!==a.filter.type?!a.filter.type||b.type==a.filter.type:"all"===a.filter.category?b.type==a.filter.type:"categorized"===a.filter.category?b.type==a.filter.type&&!!b.category:"uncategorized"===a.filter.category?b.type==a.filter.type&&!b.category:(console.log("Warning: some broken filter for search",a.filter,b),!1)},a.transactionsInit(),a.transactionsCount=function(){return f("filter")(a.transactionList,a.filterTransactions).length}}]),angular.module("balanceApp").factory("TransactionService",["BankService","FilterService","$uibModal","localStorageService","$q","CacheService",function(a,b,c,d,e,f){var g=function(a){var b=e.defer();return b.resolve(a),b.promise},h={matchSmsType:function(a,b){return-1!==a.body.indexOf(b.keywords.income)?"Income":-1!==a.body.indexOf(b.keywords.cash)?"Cash":-1!==a.body.indexOf(b.keywords.deduction)?"Deductions":"Spam"},marchTransactionCategory:function(a,b){var c=[];return _.forEach(b,function(b){-1!==a.place.indexOf(b.text)&&c.push(b.category)}),c=_.unique(c),c.length<2?c[0]:"DOUBLE_CATEGORIZATION"},matchSmsText:function(a,b,c){var d=a.indexOf(b)+b.length,e=a.indexOf(c,d);return a.substr(d,e-d).replace(",","")},matchBalance:function(a,b){return h.matchSmsText(a,b.from,b.to)},matchAmount:function(a,b){return h.matchSmsText(a,b.from,b.to)},matchPlace:function(a,b){return h.matchSmsText(a,b.from,b.to)},getBankTransactions:function(c){var d=[];return _.forEach(a.getBankSmsList(c),function(a){"UKRSIB"===c.name?(c.keywords.balance={from:"zalyshok ",to:"UAH"},c.keywords.amount={from:" na sumu ",to:"UAH"},c.keywords.place={from:"Oplata tovariv: ",to:" UA "}):"OTP"===c.name&&(c.keywords.balance={from:"Zalyshok: ",to:" UAH"},c.keywords.amount={from:"Suma: ",to:" UAH"},c.keywords.place={from:"Misce: ",to:"\n"});var e=h.matchSmsType(a,c),f={date:a.date,type:e,bank:c.name};if("Spam"===e?f.sms_body=a.body:(f.amount=h.matchAmount(a.body,c.keywords.amount),f.balance=h.matchBalance(a.body,c.keywords.balance)),"Cash"===e&&(f.category="Assets:Cash"),"Income"===e&&(f.category="Revenue:Income"),"Deductions"===e){f.place=h.matchPlace(a.body,c.keywords.place);var g=h.getTransactionCategorize(f);g?(f.category=g.category,f.name=g.name,g.amount&&(f.amount=g.amount)):f.category=h.marchTransactionCategory(f,b.getFilterList())}d.push(f)}),_.uniq(d)},_getAll:function(){var b=a.getBankList(),c=h.getManualTransactions();return _.forEach(b,function(a){c=_.union(c,h.getBankTransactions(a))}),c=_.values(_.indexBy(c,function(a){return a.type+a.date}))},getAll:function(){return f.get("transactions.all",h._getAll)},getManualTransactions:function(){return d.get("manualTransactions")||[]},addTransaction:function(){var a=e.defer();return c.open({controller:"TransactionAddCtrl",templateUrl:"views/transaction/add.modal.html",resolve:{}}).result.then(function(b){b.type="Manual";var c=h.getManualTransactions();return c.push(b),d.set("manualTransactions",c),f.clear("transactions.all"),a.resolve()}),a.promise},removeTransaction:function(a){if("Manual"===a.type){var b=h.getManualTransactions(),c=_.find(b,{name:a.name,date:a.date});return b=_.without(b,c),d.set("manualTransactions",b),f.clear("transactions.all"),g()}},getTransactionId:function(a){return a.bank+":"+a.date},getTransactionCategorize:function(a){return(d.get("categorizeTransactions")||{})[h.getTransactionId(a)]},getAllTransactionCategorize:function(){return d.get("categorizeTransactions")},categorizeTransaction:function(a){c.open({controller:"TransactionCategorizeCtrl",templateUrl:"views/transaction/categorize.modal.html",resolve:{}}).result.then(function(b){a.category=b.category,b.name&&(a.name=b.name),b.amount&&(a.amount=b.amount);var c=d.get("categorizeTransactions")||{};c[h.getTransactionId(a)]=b,d.set("categorizeTransactions",c),f.clear("transactions.all")})}};return h}]),angular.module("balanceApp").service("SmsService",["localStorageService",function(a){var b=function(a){return a.date+":"+a.body+":"+a.contact_name},c=function(a){var b={};return angular.forEach(a,function(a){var c=a.date+":"+a.body+":"+a.contact_name;b[c]=a}),_.values(b)},d={smsList:a.get("smsList")||[],smsId:b,uniqSms:c,getList:function(){return _.uniq(d.smsList)},smsContactName:function(a){return a.contact_name&&"(Unknown)"!==a.contact_name?a.contact_name:a.address},filterSmsByContact:function(a){return function(b){return b.address===a||b.contact_name===a}},parseBackup:function(a){d.smsList=a.data.smses.sms},importSms:function(b){d.smsList=d.smsList.concat(b).reduce(function(a,b){return a.indexOf(b)<0&&a.push(b),a},[]),a.set("smsList",c(d.smsList))}};return d}]),angular.module("balanceApp").service("ContactService",["SmsService",function(a){var b={getContactList:function(){return _.unique(_.map(a.getList(),a.smsContactName))},getContactSmsList:function(b){return _.filter(a.getList(),a.filterSmsByContact(b))}};return b}]),angular.module("balanceApp").service("BankService",["localStorageService","ContactService",function(a,b){var c={bankList:a.get("bankList"),getBankList:function(){return c.bankList},findByName:function(a){return _.findWhere(c.getBankList(),{name:a})},addBank:function(b){c.bankList[b.name]=b,a.set("bankList",c.bankList)},getBankSmsList:function(a){return b.getContactSmsList(a.contact)}};return c}]),angular.module("balanceApp").service("FilterService",["localStorageService","$uibModal","CacheService",function(a,b,c){var d=[{text:"KYIVSKYI METROPOLITEN",category:"Expenses:Metro"},{text:"LOTOKPROVKOLOMUYSK",category:"Expenses:Food"},{text:"VARUS",category:"Expenses:Food"},{text:"ROSHEN",category:"Expenses:Food"},{text:"Piceriya 33",category:"Expenses:Food"},{text:"FUDMEREZHA",category:"Expenses:Food"},{text:"CARAVAN",category:"Expenses:Food"}],e={filterList:a.get("filterList")||d,getFilterList:function(){return e.filterList},addFilter:function(){b.open({controller:"FilterAddCtrl",templateUrl:"views/filter/add.modal.html",resolve:{}}).result.then(function(b){e.filterList.push(b),a.set("filterList",e.filterList),c.clear("transactions.all")})},removeFilter:function(b){e.filterList=_.without(e.filterList,b),a.set("filterList",e.filterList),c.clear("transactions.all")}};return e}]),angular.module("balanceApp").controller("FilterAddCtrl",["$scope","$uibModalInstance","CategoryService",function(a,b,c){a.categoryService=c,a.filter={},a.cancel=function(){b.dismiss()},a.save=function(){b.close(a.filter)}}]),angular.module("balanceApp").controller("FilterListCtrl",["$scope","FilterService",function(a,b){a.filterService=b}]),angular.module("balanceApp").controller("TransactionAddCtrl",["$scope","$uibModalInstance","CategoryService",function(a,b,c){a.categoryService=c,a.transaction={from:"Assets:Cash",to:"",amount:null,date:(new Date).getTime()},a.cancel=function(){b.dismiss()},a.save=function(){b.close(a.transaction)}}]),angular.module("balanceApp").directive("dateToTimestamp",function(){return{require:"ngModel",link:function(a,b,c,d){d.$formatters.push(function(a){return new Date(a)}),d.$parsers.push(function(a){return Date.parse(a)})}}}),angular.module("balanceApp").controller("TransactionCategorizeCtrl",["$scope","$uibModalInstance","CategoryService",function(a,b,c){a.categoryService=c,a.transaction={category:""},a.cancel=function(){b.dismiss()},a.save=function(){b.close(a.transaction)}}]),angular.module("balanceApp").controller("ReportCategoriesCtrl",["$scope","CategoryService","ReportService",function(a,b,c){a._={},a.reportService=c,a.categoryService=b}]),angular.module("balanceApp").service("ReportService",["CategoryService","TransactionService",function(a,b){var c={getCategoriesReport:function(){var c=_.indexBy(a.data.categoryOptions,"value");_.forEach(c,function(a,b){c[b].balance=0});var d={},e=_.sortBy(b.getAll(),"date");return _.forEach(e,function(a){"Spam"!==a.type&&(a.bank&&(d[a.bank]=Math.round(100*parseFloat(a.balance))),a.category&&(c[a.category].balance+=Math.round(100*parseFloat(a.amount))),a.from&&(c[a.from].balance-=Math.round(100*parseFloat(a.amount))),a.to&&(c[a.to].balance+=Math.round(100*parseFloat(a.amount))))}),_.forEach(c,function(a,b){c[b].balance=(a.balance/100).toFixed(2)}),_.forEach(d,function(a,b){c["Liabilities:Bank Accounts:"+b].balance=(a/100).toFixed(2)}),c},getExpensesReport:function(c){var d=function(a){return a?new Date(a).getTime():a},e=b.getAll();e=_.filter(e,function(a){return"Spam"!==a.type?c.from||c.to?c.from&&c.to?a.date>=d(c.from)&&a.date<=d(c.to):c.from?a.date>=d(c.from):a.date<=d(c.to):!0:void 0}),e=_.sortBy(e,"date");var f=_.indexBy(angular.copy(a.data.categoryOptions),"value");_.forEach(f,function(a,b){f[b].balance=0}),_.forEach(e,function(a){a.category&&(f[a.category].balance+=Math.round(100*parseFloat(a.amount))),a.from&&(f[a.from].balance-=Math.round(100*parseFloat(a.amount))),a.to&&(f[a.to].balance+=Math.round(100*parseFloat(a.amount)))});var g=0;return _.forEach(f,function(a,b){a.balance&&0===b.indexOf("Expenses")&&(g+=a.balance),f[b].balance=(a.balance/100).toFixed(2)}),f.total=(g/100).toFixed(2),f},getEuroBalance:function(a){var c=_.sortBy(b.getAll(),"date"),d=0;return angular.forEach(c,function(a){"Equity:€"===a.from?d-=parseInt(a.name,10):"Equity:€"===a.to&&(d+=parseInt(a.name,10))}),a?d:d>0?d/1e3+"k":"-"},getDollarBalance:function(a){var c=_.sortBy(b.getAll(),"date"),d=0;return angular.forEach(c,function(a){"Equity:$"===a.from?d-=parseInt(a.name,10):"Equity:$"===a.to&&(d+=parseInt(a.name,10))}),a?d:d>0?d/1e3+"k":"-"}};return c}]),angular.module("balanceApp").directive("uiFile",["$parse",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(d.uiFile);c.on("change",function(a){var c=new FileReader;c.onload=function(a){b.$apply(function(){e(b,{$fileContent:a.target.result})})},c.readAsText((a.srcElement||a.target).files[0])})}}}]),angular.module("balanceApp").controller("ReportExpensesCtrl",["$scope","CategoryService","ReportService","TransactionService",function(a,b,c,d){a.transactionService=d,a._={};var e=new Date;e.setDate(1),a.filter={from:e},a.reportService=c,a.categoryService=b,a.report=a.reportService.getExpensesReport(a.filter),a.$watch("filter",function(){a.report=a.reportService.getExpensesReport(a.filter)},!0)}]),angular.module("balanceApp").controller("ReportBalanceCtrl",["$scope",function(a){}]),angular.module("balanceApp").service("CacheService",[function(){var a={data:{},clear:function(b){delete a.data[b]},clearAll:function(){a.data={}},get:function(b,c){return a.data[b]||(a.data[b]=c()),a.data[b]},cache:function(b,c){return function(){a.get(b,c)}}};return a}]),angular.module("balanceApp").controller("InvestmentListCtrl",["$scope","$http","localStorageService","ReportService","$filter",function(a,b,c,d,e){a.investInstruments=[{id:"dollar"},{id:"otp-shares",bank:"OTP-capital",name:"Shares",type:"shares",tax:19.5,franchise:200,commission:{percent:1,min:400}},{id:"otp-classic",bank:"OTP-capital",name:"Classic",type:"shares",tax:19.5,franchise:200,commission:{percent:.5,min:200}},{id:"oshad-deposit",bank:"OschadBank",name:"17%",type:"My deposit 17/9",percentage:17,payType:"end",time:"9m",tax:19.5,commission:{percent:0,min:0}},{id:"oshad-deposit2",bank:"OschadBank",name:"15.5%",type:"My deposit 15",percentage:15.5,payType:"end",time:"6m",tax:19.5,commission:{percent:0,min:0}},{id:"oshad-money",bank:"OschadBank",name:"8%",type:"Money 8",percentage:8,payType:"month",time:"1m",tax:19.5,commission:{percent:0,min:0}}],a.investments=[{date:1486723538159,amount:1e5,instrument:"oshad-deposit",type:"deposit"},{date:1491919651775,amount:11e3,instrument:"oshad-deposit",type:"deposit"},{date:1470053564e3,ended:1497453036250,profit:5367,amount:1e5,instrument:"oshad-money",type:"deposit"},{date:1497453036250,amount:6525,instrument:"oshad-money",type:"deposit"},{date:1497453036250,amount:1e5,instrument:"oshad-deposit2",type:"deposit"},{date:1489361671e3,amount:3e4,instrument:"otp-shares",type:"shares",start:{price:.93,count:32043}},{date:1491919651775,amount:5e4,instrument:"otp-shares",type:"shares",start:{price:.98,count:50303}},{date:1487144812e3,amount:23e3,instrument:"otp-classic",type:"shares",start:{price:2635.1,count:8}}],a.instrument=function(b){return _.find(a.investInstruments,{id:b})||{}},a.courses=c.get("courses")||{},a.calcCommission=function(a,b){return b.commission.percent/100*a>b.commission.min?b.commission.percent/100*a:b.commission.min},a.calcTax=function(a,b){return a?a*b/100:0},a._courcesCache={"otp-classic":{"2017-03":2655.31,"2017-04":2696.46,"2017-05":2731.14,"2017-06":2760.8,"2017-07":2779.29,"2017-08":a.courses["otp-classic"]},"otp-shares":{"2017-03":.93,"2017-04":.98,"2017-05":.97,"2017-06":1.02,"2017-07":1.03,"2017-08":a.courses["otp-shares"]}},a.calcSharesProfit=function(b,c){var d=_.find(a.investInstruments,{id:b.instrument}),f=b.start.price*b.start.count,g=a.courses[b.instrument]*b.start.count;return c&&a._courcesCache[b.instrument][e("date")(c,"yyyy-MM")]&&(g=a._courcesCache[b.instrument][e("date")(c,"yyyy-MM")]*b.start.count),g-a.calcTax(g-f,d.tax)-d.franchise-a.calcCommission(g,d)-f},a.calcDepositProfit=function(b,c){var d=_.find(a.investInstruments,{id:b.instrument}),e=a.daysDiff(new Date(b.date),c||new Date),f=b.amount*(100+d.percentage/365*e)/100;return f-a.calcTax(f-b.amount,d.tax)-a.calcCommission(f,d)-b.amount},a.calcProfit=function(b,c){return b.ended&&!c?b.profit:c&&c.getTime()>b.ended?b.profit:c&&c.getTime()<b.date?0:Math.round("shares"===b.type?a.calcSharesProfit(b,c):a.calcDepositProfit(b,c))},a.calcDollarProfit=function(){return a.courses.dollar*d.getDollarBalance(!0)-d.getCategoriesReport()["Equity:$"].balance},a.calcEuroProfit=function(){return a.courses.euro*d.getEuroBalance(!0)-d.getCategoriesReport()["Equity:€"].balance},a.daysDiff=function(a,b){var c=864e5,d=new Date(a),e=new Date(b);return Math.round(Math.abs((d.getTime()-e.getTime())/c))},a.calcROI=function(b,c){return a.calcProfit(b,c)/b.amount/a.daysDiff(b.date,c||b.ended||(new Date).getTime())*365},a._dates=[new Date(2016,7,1),new Date(2016,8,1),new Date(2016,9,1),new Date(2016,10,1),new Date(2016,11,1),new Date(2017,0,1),new Date(2017,1,1),new Date(2017,2,1),new Date(2017,3,1),new Date(2017,4,1),new Date(2017,5,1),new Date(2017,6,1),new Date(2017,7,1)],a._calcStats=function(b){var c={};return angular.forEach(a._dates,function(d,f){c[e("date")(d,"yyyy-MM")]||(c[e("date")(d,"yyyy-MM")]={}),angular.forEach(b,function(b,g){var h=a.calcProfit(b,d);f?(c[e("date")(a._dates[f-1],"yyyy-MM")][b.instrument+"_"+g]=h,c[e("date")(d,"yyyy-MM")][b.instrument+"_"+g]=h):c[e("date")(d,"yyyy-MM")][b.instrument+"_"+g]=h})}),c},a._calcStatsSum=function(a){return _.reduce(a,function(a,b,c){return a[c]=_.reduce(_.values(b),function(a,b){return a+b},0),a},{})},a._calcInvestProfit=function(b){var c=null,d=_.reduce(b,function(a,d,e){return c?a[e]=b[e]-b[c]:a[e]=b[e],c=e,a},{});return delete d[e("date")(a._dates[a._dates.length-1],"yyyy-MM")],d},a.stats=a._calcStats(a.investments),console.log("stats",a.stats),a._statsSum=a._calcStatsSum(a.stats),console.log("statsSum",a._statsSum),a._invProfit=a._calcInvestProfit(a._statsSum),console.log("invProfit",a._invProfit),a._sharesProfit=a._calcInvestProfit(a._calcStatsSum(a._calcStats(_.where(a.investments,{type:"shares"})))),a._depositProfit=a._calcInvestProfit(a._calcStatsSum(a._calcStats(_.where(a.investments,{type:"deposit"})))),a.profitChart={labels:_.keys(a._invProfit),series:["Profit","Shares","Deposit"],data:[_.values(a._invProfit),_.values(a._sharesProfit),_.values(a._depositProfit)]},a._calcAmountStats=function(b){var c={};return angular.forEach(a._dates,function(d,f){f!==a._dates.length-1&&(c[e("date")(d,"yyyy-MM")]||(c[e("date")(d,"yyyy-MM")]=0),angular.forEach(b,function(a,b){a.date<d.getTime()&&(c[e("date")(d,"yyyy-MM")]+=a.amount/10),a.date<d.getTime()&&a.ended&&a.ended<d.getTime()&&(c[e("date")(d,"yyyy-MM")]-=a.amount/10)}))}),c},a._invAmount=a._calcAmountStats(a.investments),console.log("invAmount",a._invAmount),a.investmentsChart={labels:_.keys(a._invAmount),series:["Amount/10","MonthProfit","Profit"],data:[_.values(a._invAmount),_.values(a._invProfit),_.values(a._statsSum)]},a.totalAmount=function(){return _.reduce(a.investments,function(a,b){return a+(b.ended?0:b.amount)},0)},a.totalProfit=function(){return _.reduce(a.investments,function(b,c){return b+a.calcProfit(c)},0)},a.totalROI=function(){return a.totalProfit()/a.totalAmount()},a.perMonthProfit=function(){var b=new Date;return b.getMonth()?b.setMonth(b.getMonth()-1):(b.setMonth(11),b.setYear(b.getYear()-1)),a._invProfit[e("date")(b,"yyyy-MM")]},a.perMonthROI=function(){return 12*a.perMonthProfit()/a.totalAmount()},a.thisMonthProfit=function(){var b=new Date;return a._invProfit[e("date")(b,"yyyy-MM")]},a.thisMonthROI=function(){return 12*a.thisMonthProfit()/a.totalAmount()}}]),angular.module("balanceApp").controller("InvestmentInstrumentCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("balanceApp").controller("InvestmentDashboardCtrl",["$scope","ReportService","$filter","$routeParams","$location",function(a,b,c,d,e){a.app.page="dashboard",a.tab=d.tab||"balance",a.showTab=function(b){a.tab=b,e.search({tab:a.tab})};var f=new Date;f.setDate(1);var g=new Date;g.setDate(1),0==g.getMonth()?(g.setYear(g.getYear()-1),g.setMonth(11)):g.setMonth(g.getMonth()-1),a.reportService=b,a._mapReport=function(b,d){var e=[];return angular.forEach(b,function(b,c){-1!==c.indexOf("Expenses:")&&e.push({name:b.name,value:b.balance||.01,_value:parseFloat(b.balance),_mainValue:d?parseFloat(b.balance):(_.find(a._expenses,{name:b.name})||{})._value})}),c("orderBy")(e,"_mainValue",!0)},a._expenses=a._mapReport(a.reportService.getExpensesReport({from:new Date(2016,7,1)}),!0),a._expensesPrev=a._mapReport(a.reportService.getExpensesReport({from:g,to:f})),a._expensesMonth=a._mapReport(a.reportService.getExpensesReport({from:f})),a.totalExpenses=function(a){return _.reduce(a,function(a,b){return a+b._value},0)},a.expensesPrevChart={labels:_.pluck(a._expensesPrev,"name"),series:["Last Month Expenses"],data:_.pluck(a._expensesPrev,"value"),total:a.totalExpenses(a._expensesPrev)},a.expensesAllChart={labels:_.pluck(a._expenses,"name"),series:["Total Expenses"],data:_.pluck(a._expenses,"value"),total:a.totalExpenses(a._expenses)},a.expensesChart={labels:_.pluck(a._expensesMonth,"name"),series:["Month Expenses"],data:_.pluck(a._expensesMonth,"value"),total:a.totalExpenses(a._expensesMonth)},a._dates=[new Date(2016,9,1),new Date(2016,10,1),new Date(2016,11,1),new Date(2017,0,1),new Date(2017,1,1),new Date(2017,2,1),new Date(2017,3,1),new Date(2017,4,1),new Date(2017,5,1),new Date(2017,6,1),new Date(2017,7,1)],a.generateMoneyData=function(){var b=[];return angular.forEach(a._dates,function(d,e){if(0!==e){var f=a._dates[e-1],g=a.reportService.getExpensesReport({from:f,to:d}),h={date:c("date")(f,"yyyy-MM"),income:g["Revenue:Income"].balance,expenses:g.total-g["Expenses:Travels"].balance,trips:g["Expenses:Travels"].balance,all_expenses:g.total};b.push(h)}}),b},a._money=a.generateMoneyData(),a.moneyChart={labels:_.pluck(a._money,"date"),series:["Income","Expenses","Trips","All Expenses"],data:[_.pluck(a._money,"income"),_.pluck(a._money,"expenses"),_.pluck(a._money,"trips"),_.pluck(a._money,"all_expenses")]}}]),angular.module("balanceApp").filter("percentage",function(){return function(a,b){return"undefined"==typeof b&&(b="%"),(a?Math.round(1e4*a)/100:0)+b}}),angular.module("balanceApp").run(["$templateCache",function(a){a.put("views/app/menu-xs.html",'<a class="ui-section-header" href="#!/dashboard">Dashboard</a> <ui-section heading="Reports"> <ul> <li><a href="#!/report/balance">Balance</a></li> <li><a href="#!/report/expenses">Expenses</a></li> <li><a href="#!/investment/list">Investments</a></li> </ul> </ui-section> <ui-section heading="Transactions"> <ul> <li><a href="#!/transaction/list">Transactions List</a></li> <li><a href="#!/filter/list">Filters</a></li> </ul> </ui-section> <ui-section heading="Settings" hide="true"> <ul> <li><a href="#!/category/list">Categories</a></li> <li><a href="#!/bank/list">Bank Accounts</a></li> <li><a href="#!/contact/list">Contacts</a></li> <li><a href="#!/sms/list">SMS</a></li> </ul> </ui-section> <!--<ui-section heading="Sync" hide="true">--> <!--<ul>--> <!--<li><input class="form-control" ng-model="sync.server"></li>--> <!--<li><span ng-click="syncBackup()"> Save </span></li>--> <!--<li><span ng-click="syncRestore()"> Restore </span></li>--> <!--<li><span ng-click="syncSMS()"> Import SMS </span></li>--> <!--</ul>--> <!--</ui-section>--> <ui-section heading="Backup" hide="true"> <ul> <li><span ng-click="syncAll()" ng-disabled="sync.$syncing">{{!sync.$syncing?\'Sync\':\'Syncing\'}}</span></li> <li><a ng-click="downloadBackup()"> Download </a></li> <li><span class="file"> Restore <input type="file" ui-file="restoreBackup($fileContent)"></span></li> <li><span ng-click="clearStorage()">CLEAR ALL</span></li> <!--<li><span class="file" ng-click="importSMS()">Import SMS </span></li>--> </ul> </ui-section> <iframe src="{{$sce.trustAsResourceUrl(syncServerUrl()+\'/\')}}"></iframe>'),
a.put("views/app/menu.html",'<a class="h5" href="#!/dashboard">Dashboard</a> <a class="h5" href="#!/transaction/list">Transactions</a> <a class="h5" href="#!/report/expenses">Expenses</a> <a class="h5" href="#!/investment/list">Investments</a> <h5 class="h5" ng-click="_.settingsOpen = !_.settingsOpen">Settings</h5> <ul ng-if="_.settingsOpen" class="app-main-sub_menu_list"> <li> <a href="#!/sms/list">SMS list</a> </li> <li> <a href="#!/contact/list">Contacts</a> </li> <li> <a href="#!/bank/list">Bank Accounts</a> </li> <li> <a href="#!/category/list">Categories</a> </li> <li> <a href="#!/filter/list">Filters</a> </li> <li class="static" ng-controller="DashboardCtrl"> <span class="static-title">Backup</span> <ul> <!--<li><span class="file" ng-click="importSMS()">Sync iPhone Backup</span></li>--> <li><span ng-click="syncAll()" ng-disabled="sync.$syncing">{{!sync.$syncing?\'Sync\':\'Syncing\'}}</span></li> <li><a class="download-btn" ng-click="downloadBackup()"> Download </a></li> <li><span class="file"> Restore <input type="file" ui-file="restoreBackup($fileContent)"></span></li> <li><span ng-click="clearStorage()">CLEAR ALL</span></li> </ul> <!--<span class="static-title">Sync</span>--> <!--<ul>--> <!--<li><span ng-click="syncAll()" ng-disabled="sync.$syncing">{{!sync.$syncing?\'Sync\':\'Syncing\'}}</span></li>--> <!--<li><input class="form-control" ng-model="sync.server"></li>--> <!--<li><span ng-click="syncCheck()"> Check </span></li>--> <!--<li><span ng-click="syncBackup()"> Save </span></li>--> <!--<li><span ng-click="syncRestore()"> Restore </span></li>--> <!--<li><span ng-click="syncSMS()"> Import SMS </span></li>--> <!--</ul>--> </li> </ul> <small class="sub-heading hidden-xs">Current Balance</small> <hr class="hidden-xs"> <ng-include src="\'views/report/balance.block.html\'"></ng-include>'),a.put("views/bank/add.page.html",'<form ng-if="connection.step==\'name\'" class="app-form" novalidate ng-submit="nextStep();"> <div class="form-group"> <label for="bank.name">Bank Name</label> <input class="form-control" autofocus id="bank.name" ng-model="bank.name"> </div> <button class="main-action btn btn-success" type="submit" ng-disabled="!bank.name"> <i class="glyphicon glyphicon-ok"></i> </button> </form> <div ng-if="connection.step==\'contact\'" class="app-form"> <div class="form-group"> <label>Chose Contact for SMS-banking</label> </div> <ul> <li ng-repeat="c in contactService.getContactList()" ng-click="bank.contact=c;nextStep();">{{c}}</li> </ul> </div> <form novalidate ng-submit="nextStep()" ng-if="connection.step==\'keywords.deductions\'" class="app-form"> <div class="form-group"> <label for="bank.keywords.deduction">Deduction SMS keywords</label> <input class="form-control" autofocus id="bank.keywords.deduction" ng-model="bank.keywords.deduction"> </div> <div> <h6 class="app-sub_heading">Preview matches</h6> <ul class="app-list"> <li ng-repeat="data in bankSmsList" ng-class="{\n                    \'success\': isDeduction(data)\n                }" ng-include="\'views/sms/list-item.html\'"></li> </ul> </div> <button class="main-action btn btn-success" ng-disabled="!bank.keywords.deduction"> <i class="glyphicon glyphicon-ok"></i> </button> </form> <form novalidate ng-submit="nextStep()" ng-if="connection.step==\'keywords.income\'" class="app-form"> <div class="form-group"> <label for="bank.keywords.deduction">Income SMS keywords</label> <input class="form-control" autofocus id="bank.keywords.income" ng-model="bank.keywords.income"> </div> <div> <h6 class="app-sub_heading">Preview matches</h6> <ul class="app-list"> <li ng-repeat="data in bankSmsList" ng-class="{\n                    \'success\': isIncome(data),\n                    \'disabled\': isDeduction(data),\n                    \'error\': isIncomeAndDeduction(data)\n                }"> <div ng-include="\'views/sms/list-item.html\'"></div> <div class="app-error" ng-if="isIncomeAndDeduction(data)"> Simultaneously in income & deductions. Please check keywords </div> </li> </ul> </div> <button class="main-action btn btn-success" ng-disabled="!bank.keywords.income || isHasSmsParseErrors([isIncomeAndDeduction])"> <i class="glyphicon glyphicon-ok"></i> </button> </form> <form novalidate ng-submit="nextStep()" ng-if="connection.step==\'keywords.cash\'" class="app-form"> <div class="form-group"> <label for="bank.keywords.deduction">Cash SMS keywords</label> <input class="form-control" autofocus id="bank.keywords.cash" ng-model="bank.keywords.cash"> </div> <div> <h6 class="app-sub_heading">Preview matches</h6> <ul class="app-list"> <li ng-repeat="data in bankSmsList" ng-class="{\n                    \'success\': isCash(data),\n                    \'disabled\': isDeduction(data) || isIncome(data),\n                    \'error\': isIncomeOrDeductionAndCash(data)\n                }"> <div ng-include="\'views/sms/list-item.html\'"></div> <div class="app-error" ng-if="isIncomeOrDeductionAndCash(data)"> Simultaneously in cash & income/deductions. Please check keywords </div> </li> </ul> </div> <button class="main-action btn btn-success" ng-disabled="!bank.keywords.income || isHasSmsParseErrors([isIncomeOrDeductionAndCash])"> <i class="glyphicon glyphicon-ok"></i> </button> </form>'),a.put("views/bank/item.page.html",'<ul class="app-list visible-xs"> <li ng-repeat="data in bankService.getBankSmsList(bank)" ng-include="\'views/sms/list-item.html\'"></li> </ul> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items"> <ul class="app-list"> <li ng-repeat="data in bankService.getBankList()" ng-include="\'views/bank/list-item.html\'"></li> </ul> </div> <div class="col-xs-6 app-main-col col-details"> <ul class="app-list"> <li ng-repeat="data in bankService.getBankSmsList(bank)" ng-include="\'views/sms/list-item.html\'"></li> </ul> </div> </div>'),a.put("views/bank/list-item.html",'<a href="#!/bank/{{data.name}}" class="ui-section-header">{{data.name}}</a>'),a.put("views/bank/list.page.html",'<div class="app-list visible-xs"> <div ng-repeat="data in bankService.getBankList()" ng-include="\'views/bank/list-item.html\'"></div> </div> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items"> <ul class="app-list"> <li ng-repeat="data in bankService.getBankList()" ng-include="\'views/bank/list-item.html\'"></li> </ul> </div> </div> <a href="#!/bank/add" class="btn btn-success main-action"><i class="glyphicon glyphicon-plus"></i></a>'),a.put("views/category/add.modal.html",'<form novalidate name="category.form"> <div class="modal-header"> <h4>Add Category In {{parent.name}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label>Name</label> <input class="form-control" ng-model="category.name"> </div> </div> <div class="modal-footer text-center"> <button class="btn btn-default" type="button" ng-click="cancel()">Cancel</button> <button class="btn btn-success" ng-disabled="!category.name" ng-click="save()">Save</button> </div> </form>'),a.put("views/category/item.html",'<i class="add-icon pull-left glyphicon glyphicon-plus-sign" ng-click="addCategory(c0)"></i> <h4>{{c0.name}}</h4> <ul ng-if="c0.child.length"> <li ng-repeat="c1 in c0.child"> <i class="add-icon pull-left glyphicon glyphicon-plus" ng-click="addCategory(c1)"></i> <i class="remove-icon pull-right glyphicon glyphicon-remove" ng-click="removeCategory(c1)"></i> <span class="category-balance pull-right"> {{report[c0.name+\':\'+c1.name].balance|currency:\'\'}} </span> <h5><a href="#!/transaction/list?category={{c0.name+\':\'+c1.name}}">{{c1.name}}</a></h5> <ul ng-if="c1.child.length"> <li ng-repeat="c2 in c1.child" ng-if="c0.name+\':\'+c1.name+\':\'+c2.name!==\'Liabilities:Bank Accounts:Initial\'"> <i class="remove-icon pull-right glyphicon glyphicon-remove" ng-click="removeCategory(c2)"></i> <span class="category-balance pull-right"> {{report[c0.name+\':\'+c1.name+\':\'+c2.name].balance|currency:\'\'}} </span> <h6><a href="#!/transaction/list?category={{c0.name+\':\'+c1.name+\':\'+c2.name}}"> {{c2.name}}</a></h6> </li> </ul> </li> </ul>'),a.put("views/category/list.page.html",'<ul class="app-tree visible-xs"> <li ng-repeat="c0 in categoryData.categoryTree" ng-include="\'views/category/item.html\'"> </li> </ul> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items-lg" ng-init="report = reportService.getCategoriesReport()"> <div class="row"> <div class="col-xs-6"> <ul class="app-tree"> <li ng-repeat="c0 in categoryData.categoryTree" ng-if="c0.name !== \'Expenses\' && c0.name !==\'Revenue\'" ng-include="\'views/category/item.html\'"></li> </ul> </div> <div class="col-xs-6"> <ul class="app-tree"> <li ng-repeat="c0 in categoryData.categoryTree" ng-if="c0.name  === \'Expenses\' || c0.name === \'Revenue\'" ng-include="\'views/category/item.html\'"> </li> </ul> </div> </div> </div> </div>'),a.put("views/contact/item.page.html",'<ul class="app-list visible-xs"> <li ng-repeat="data in contactService.getContactSmsList(contactName)" ng-include="\'views/sms/list-item.html\'"></li> </ul> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items"> <ul class="app-list"> <li ng-repeat="data in contactService.getContactList()" ng-include="\'views/contact/list-item.html\'"></li> </ul> </div> <div class="col-xs-6 app-main-col col-details"> <ul class="app-list"> <li ng-repeat="data in contactService.getContactSmsList(contactName)" ng-include="\'views/sms/list-item.html\'"></li> </ul> </div> </div>'),a.put("views/contact/list-item.html",'<a href="#!/contact/{{data}}" class="ui-section-header">{{data}}</a>'),a.put("views/contact/list.page.html",'<div class="app-list visible-xs"> <div ng-repeat="data in contactService.getContactList()" ng-include="\'views/contact/list-item.html\'"></div> </div> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items"> <ul class="app-list"> <li ng-repeat="data in contactService.getContactList()" ng-include="\'views/contact/list-item.html\'"></li> </ul> </div> </div>'),a.put("views/filter/add.modal.html",'<form novalidate> <div class="modal-body"> <div class="row"> <div class="col-xs-12"> <div class="form-group"> <label>Match Place Text</label> <input class="form-control" ng-model="filter.text"> </div> </div> <div class="col-xs-12"> <div class="form-group"> <label>To Category</label> <select class="form-control" ng-model="filter.category"> <optgroup ng-repeat-start="c in categoryService.data.categoryOptions" label="{{c.name}}" ng-if="c.type==\'group\'"></optgroup> <option ng-repeat-end value="{{c.value}}" ng-if="c.type==\'option\'">{{c.name}}</option> </select> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default" ng-click="cancel();">Cancel</button> <button class="btn btn-success" ng-disabled="!filter.text || !filter.category" ng-click="save()">Save</button> </div> </form>'),a.put("views/filter/list-item.html",'<div class="pull-right"> {{data.category}} </div> <div> {{data.text}} </div>'),a.put("views/filter/list.page.html",'<div class="app-main-row"> <span ng-click="goBack()" class="head-menu-icon"><i class="glyphicon glyphicon-circle-arrow-left"></i></span> <div class="hidden-xs col-sm-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-12 col-sm-5 col-lg-4 app-main-col col-items-md"> <ul class="app-list"> <li ng-repeat="data in filterService.getFilterList()" ng-include="\'views/filter/list-item.html\'"></li> </ul> </div> </div> <button class="main-action btn btn-success" ng-click="filterService.addFilter()"> <i class="glyphicon glyphicon-plus"></i> </button>'),a.put("views/investment/dashboard.page.html",'<div class="page"> <!--<header class="page-header"></header>--> <nav class="page-nav"> <div class="pull-left"> <a href="#!/menu"> <i class="glyphicon glyphicon-menu-hamburger"></i> </a> </div> <a ng-click="showTab(\'balance\')" ng-class="{selected:tab===\'balance\'}">Balance</a> <a ng-click="showTab(\'investments\')" ng-class="{selected:tab===\'investments\'}">Investments</a> <div class="pull-right" ng-controller="DashboardCtrl"> <button type="button" class="sync-btn btn btn-link" ng-click="syncAll()" ng-disabled="sync.$syncing"> <i class="glyphicon glyphicon-refresh"></i> <span class="hidden-xs">{{!sync.$syncing?\'Sync\':\'Syncing\'}}</span> </button> </div> </nav> <article class="page-container" ng-controller="InvestmentListCtrl" ng-if="tab==\'investments\'"> <section> <!--<h4 class="section-header"></h4>--> <div class="row"> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"> <div class="investment-card investment-card-total"> <h6>Total</h6> Amount: <b>{{totalAmount()|currency:\'\'}}</b><br> Profit: <b>{{totalProfit()|currency:\'\'}}</b><br> ROI: <b>{{totalROI()|percentage}}</b> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"> <div class="investment-card investment-card-total"> <h6>Last Month</h6> Profit: <b>{{perMonthProfit()|currency:\'\'}}</b><br> ROI: <b>{{perMonthROI()|percentage}}</b> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"> <div class="investment-card investment-card-total"> <h6>This Month</h6> Profit: <b>{{thisMonthProfit()|currency:\'\'}}</b><br> ROI: <b>{{thisMonthROI()|percentage}}</b> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2 pull-right"> <div class="investment-card investment-card-total"> <h6>Courses</h6> $: <b>{{courses.dollar|currency:\'\'}}</b><br> €: <b>{{courses.euro|currency:\'\'}}</b> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2 pull-right"> <div class="investment-card investment-card-total"> <h6>Shares</h6> OTP Shares: <b>{{courses[\'otp-shares\']|currency:\'\'}}</b><br> OTP Classic: <b>{{courses[\'otp-classic\']|currency:\'\'}}</b> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2 pull-right"> <div class="investment-card investment-card-total"> <h6>Courses Profit</h6> $: <b>{{calcDollarProfit()|currency:\'\'}}</b><br> €: <b>{{calcEuroProfit()|currency:\'\'}}</b> </div> </div> </div> </section> <section class="section-white"> <h4 class="section-header">Cash Flow</h4> <div class="row"> <div class="col-xs-12 col-sm-6"> <canvas id="profit-chart" class="chart chart-line" chart-data="profitChart.data" chart-options="{height:200}" chart-series="profitChart.series" chart-labels="profitChart.labels"> </canvas> </div> <div class="col-xs-12 col-sm-6"> <canvas id="investment-chart" class="chart chart-bar" chart-data="investmentsChart.data" chart-options="{height:200}" chart-series="investmentsChart.series" chart-labels="investmentsChart.labels"> </canvas> </div> </div> </section> <section> <h4 class="section-header">Investments</h4> <div class="row"> <div class="col-xs-12 col-sm-4 col-md-3 col-lg-2"> <div class="investment-card investment-card-add"> <i class="icon glyphicon glyphicon-briefcase"></i> <h6>Add Investment</h6> </div> </div> <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2" ng-repeat="i in investments|orderBy:\'date\'"> <div class="investment-card" ng-class="{\'investment-card-ended\':i.ended}"> <h6> {{instrument(i.instrument).bank}}:<br class="visible-xs"> {{instrument(i.instrument).name}} </h6> <small> <span ng-if="i.ended" class="pull-right">{{i.ended|date:\'dd/MM/yyyy\'}}</span> {{i.date|date:\'dd/MM/yyyy\'}} </small> Amount: <b>{{i.amount|currency:\'\'}}</b><br> Profit: <b>{{calcProfit(i)|currency:\'\'}}</b><br> ROI: <b>{{calcROI(i)|percentage}}</b> </div> </div> </div> </section> </article> <article class="page-container" ng-if="tab==\'balance\'"> <section ng-controller="TransactionListCtrl"> <div class="row" ng-if="transactionsCount()"> <div class="col-xs-12"> <h4 class="section-header"> Transactions </h4> <div class="col-content" ng-include="\'views/transaction/list.view.html\'"></div> </div> </div> </section> <section class="section-white" ng-controller="ReportExpensesCtrl"> <div class="row"> <div class="col-xs-12 col-sm-3"> <h4 class="section-header">Expenses</h4> <div class="col-content expenses-list" ng-include="\'views/report/expenses.block.html\'"></div> </div> <div class="col-xs-12 col-sm-9"> <div class="row"> <div class="col-xs-12 col-sm-4 doughnut-chart"> <h4 class="section-header text-center">All Expenses</h4> <div class="doughnut-total">{{expensesAllChart.total|currency:\'\'}}</div> <canvas id="expenses-all-chart" class="chart chart-doughnut" chart-data="expensesAllChart.data" chart-options="{height:100}" chart-series="expensesAllChart.series" chart-labels="expensesAllChart.labels"> </canvas> <br> </div> <div class="col-xs-12 col-sm-4 doughnut-chart"> <h4 class="section-header text-center">Last Month Expenses</h4> <div class="doughnut-total">{{expensesPrevChart.total|currency:\'\'}}</div> <canvas id="expenses-prev-chart" class="chart chart-doughnut" chart-data="expensesPrevChart.data" chart-options="{height:100}" chart-series="expensesPrevChart.series" chart-labels="expensesPrevChart.labels"> </canvas> <br> </div> <div class="col-xs-12 col-sm-4 doughnut-chart"> <h4 class="section-header text-center">This Month Expenses</h4> <div class="doughnut-total">{{expensesChart.total|currency:\'\'}}</div> <canvas id="expenses-chart" class="chart chart-doughnut" chart-data="expensesChart.data" chart-options="{height:100}" chart-series="expensesChart.series" chart-labels="expensesChart.labels"> </canvas> <br> </div> </div> <button class="btn btn-success pull-right hidden-xs" ng-click="transactionService.addTransaction().then(transactionsInit);"> Add New </button> <button class="main-action btn btn-success pull-right visible-xs" ng-click="transactionService.addTransaction().then(transactionsInit);"> <i class="glyphicon glyphicon-plus"></i> </button> </div> </div> </section> <section class="section-white"> <div class="row"> <div class="col-xs-12 col-sm-3"> <h4 class="section-header">Balance</h4> <div class="col-content balance-sheet" ng-include="\'views/report/balance.block.html\'"></div> </div> <div class="col-xs-12 col-sm-9"> <canvas id="money-chart" class="chart chart-line" chart-data="moneyChart.data" chart-options="{height:100}" chart-series="moneyChart.series" chart-labels="moneyChart.labels"> </canvas> </div> </div> </section> </article> </div>'),a.put("views/investment/instrument.page.html",'<div class="app-main-row"> <a href="#!/investment/list" class="head-menu-icon"><i class="glyphicon glyphicon-circle-arrow-left"></i></a> <div class="hidden-xs col-sm-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <!--<div class="col-xs-12 col-sm-4 col-lg-4 app-main-col col-items"--> <!--ng-class="{\'hidden-xs\':!_.showFilter}"--> <!--ng-include="\'views/transaction/filters.block.html\'"></div>--> <!--<div class="col-xs-12 col-sm-6 col-lg-4 app-main-col col-details"--> <!--ng-class="{\'hidden-xs\':_.showFilter}"--> <!--ng-include="\'views/transaction/list.view.html\'"></div>--> </div> <!--<button class="main-action btn btn-success" ng-click="transactionService.addTransaction().then(transactionsInit);">--> <!--<i class="glyphicon glyphicon-plus"></i>--> <!--</button>-->'),a.put("views/investment/list.page.html",'<div class="app-main-row"> <a href="#!/investment/instrument" class="head-menu-icon"><i class="glyphicon glyphicon-cog"></i></a> <div class="hidden-xs col-sm-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-12 col-sm-4 col-lg-4 app-main-col col-items"> <pre class="pull-right">\n$: {{calcDollarProfit()|currency:\'\'}}\n€: {{calcEuroProfit()|currency:\'\'}}\n        </pre> <pre class="pull-left">Courses: {{courses|json}}</pre> <div class="clearfix"></div> <ul class="app-list" ng-init="_.profit = 0;"> <li ng-repeat="i in investments" ng-init="_.profit = _.profit + calcProfit(i)" style="opacity: {{i.ended ? .5:1}}"> <pre style="font-size: 10px;line-height: 1; float:right" ng-if="i.start">{{i.start|json}}</pre> <b style="color: rgba(0,0,0,.7)">{{i.instrument}} {{i.amount|currency:\'\'}}</b><br> <small>{{i.date|date:\'HH:mm dd/MM/yyyy\'}}</small><br> Profit: <b>{{calcProfit(i)|currency:\'\'}}</b> </li> <li> Total: <b>{{_.profit|currency:\'\'}}</b> </li> </ul> </div> <!--ng-class="{\'hidden-xs\':!_.showFilter}"--> <!--ng-include="\'views/transaction/filters.block.html\'"></div>--> <div class="col-xs-12 col-sm-6 col-lg-4 app-main-col col-details hidden-xs" ng-class="{\'hidden-xs\':_.showFilter}"> <pre>{{stats|json}}</pre> </div> </div> <!--<button class="main-action btn btn-success" ng-click="transactionService.addTransaction().then(transactionsInit);">--> <!--<i class="glyphicon glyphicon-plus"></i>--> <!--</button>-->'),a.put("views/main.html",'<div class="app-list visible-xs" ng-include="\'views/app/menu-xs.html\'"></div> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> </div>'),a.put("views/report/balance.block.html",'<div ng-controller="ReportCategoriesCtrl" ng-init="_.total = 0;_.cash=0;"> <div ng-repeat="data in reportService.getCategoriesReport();" ng-if="data.value.indexOf(\'Expenses\')!==0 && data.value.indexOf(\'Revenue\')!==0"> <h6 ng-if="data.lvl===0">{{data.category}}</h6> <div ng-if="data.value === \'Assets:Cash\'" ng-init="_.cash = data.balance;"></div> <div ng-if="data.lvl!==0 && (data.balance!=0 || data.value ===\'Equity:₴\' ) && data.value !== \'Assets:Cash\'&& data.value !== \'Liabilities:Bank Accounts:Initial\'"> <span class="pull-right" ng-init="_.total = +data.balance + _.total;"> {{(data.value!==\'Equity:₴\'?data.balance:_.cash)|currency:\'\'}} </span> <a href="#!/transaction/list?category={{data.value}}"> {{data.category}} <span ng-if="data.category===\'€\'"> {{reportService.getEuroBalance()}} </span> <span ng-if="data.category===\'$\'"> {{reportService.getDollarBalance()}} </span> </a> </div> </div> <hr style="margin-bottom: 5px"> </div>'),a.put("views/report/balance.page.html",'<div class="col-xs-12 app-main-col col-items"> <small class="sub-heading hidden-xs">Current Balance</small> <hr class="hidden-xs"> <ng-include src="\'views/report/balance.block.html\'"></ng-include> </div>'),a.put("views/report/categories.page.html",'<!--<pre>{{reportService.getCategoriesReport()|json}}</pre>--> <ul class="app-list"> <li ng-repeat="data in reportService.getCategoriesReport()"> <div class="row"> <div class="col-xs-8"> {{data.name}}</div> <div class="col-xs-4 text-right">{{data.balance}}</div> </div> </li> </ul>'),a.put("views/report/expenses.block.html",'<ul class="app-list"> <li ng-repeat="data in report" ng-if="data.value.indexOf(\'Expenses:\')===0" ng-class="{\'hidden-xs\':data.value===\'Expenses\',\'empty\':data.balance==0}"> <div class="row"> <div class="col-xs-8"> <a href="#!/transaction/list?category={{data.value}}&from={{filter.from ? filter.from.toISOString():\'\'}}&to={{filter.to ? filter.to.toISOString():\'\'}}"> {{data.name}} </a> </div> <div class="col-xs-4 text-right" ng-if="data.lvl!==0">{{data.balance|currency:\'\'}}</div> </div> </li> <li class="total-expenses"> {{report.total|currency:\'\'}} </li> </ul>'),a.put("views/report/expenses.page.html",'<!--<pre>{{reportService.getCategoriesReport()|json}}</pre>--> <div class="app-main-row"> <i class="glyphicon glyphicon-filter head-menu-icon visible-xs" ng-click="_.showFilter = !_.showFilter"></i> <div class="hidden-xs col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-12 col-sm-4 col-lg-4 app-main-col col-items" ng-class="{\'hidden-xs\':!_.showFilter}"> <br> <label>From</label> <input class="form-control" type="date" ng-model="filter.from"> <br> <label>To</label> <input class="form-control" type="date" ng-model="filter.to"> <br> <button class="visible-xs btn btn-success pull-right" ng-click="_.showFilter=!_.showFilter;">Apply</button> </div> <div class="col-xs-12 col-sm-6 col-lg-4 app-main-col col-details" ng-class="{\'hidden-xs\':_.showFilter}"> <ng-include src="\'views/report/expenses.block.html\'"></ng-include> </div> </div> <button class="main-action btn btn-success" ng-click="transactionService.addTransaction().then(transactionsInit);"> <i class="glyphicon glyphicon-plus"></i> </button>'),a.put("views/sms/list-item.html",'<!--<pre>{{data|json}}</pre>--> <div> <div class="row"> <div class="col-xs-6 ui-info"><a href="#!/contact/{{smsService.smsContactName(data)}}">{{smsService.smsContactName(data)}}</a></div> <div class="col-xs-6 text-right ui-info">{{data.date|date:\'HH:mm d MMM yyyy\'}}</div> <div class="col-xs-12 text-pre">{{data.body}}</div> </div> </div>'),a.put("views/sms/list.page.html",'<ul class="app-list visible-xs"> <li ng-repeat="data in smsService.getList()" ng-include="\'views/sms/list-item.html\'"></li> </ul> <div class="hidden-xs app-main-row"> <div class="col-xs-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-5 col-lg-4 app-main-col col-items"> <ul class="app-list"> <li ng-repeat="data in smsService.getList()" ng-include="\'views/sms/list-item.html\'"></li> </ul> </div> </div>'),a.put("views/transaction/add.modal.html",'<form novalidate> <div class="modal-body"> <div class="row"> <div class="col-xs-12"> <div class="form-group"> <label>Name</label> <input class="form-control" ng-model="transaction.name"> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>From Category</label> <select class="form-control" ng-model="transaction.from"> <optgroup ng-repeat-start="c in categoryService.data.categoryOptions" label="{{c.name}}" ng-if="c.type==\'group\'"></optgroup> <option ng-repeat-end value="{{c.value}}" ng-if="c.type==\'option\'">{{c.name}}</option> </select> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>To Category</label> <select class="form-control" ng-model="transaction.to"> <optgroup ng-repeat-start="c in categoryService.data.categoryOptions" label="{{c.name}}" ng-if="c.type==\'group\'"></optgroup> <option ng-repeat-end value="{{c.value}}" ng-if="c.type==\'option\'">{{c.name}}</option> </select> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Amount</label> <input type="number" step="0.01" min="0.01" class="form-control" ng-model="transaction.amount"> </div> </div> <div class="col-xs-6"> <div class="form-group"> <label>Date</label> <input class="form-control" type="date" ng-model="transaction.date" date-to-timestamp> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default" ng-click="cancel();">Cancel</button> <button class="btn btn-success" ng-disabled="!transaction.from || !transaction.to || !transaction.amount|| !transaction.date || !transaction.name" ng-click="save()">Save</button> </div> </form>'),a.put("views/transaction/categorize.modal.html",'<form novalidate> <div class="modal-body"> <div class="row"> <div class="col-xs-8"> <div class="form-group"> <label>Name (optional)</label> <input class="form-control" ng-model="transaction.name"> </div> </div> <div class="col-xs-4"> <div class="form-group" ng-init="showAmount = false;"> <span ng-click="showAmount=true">Change Amount</span> <div ng-if="showAmount"> <label>Amount</label> <input class="form-control" ng-model="transaction.amount"> </div> </div> </div> <div class="col-xs-12"> <div class="form-group"> <label>To Category</label> <select class="form-control" ng-model="transaction.category"> <optgroup ng-repeat-start="c in categoryService.data.categoryOptions" label="{{c.name}}" ng-if="c.type==\'group\'"></optgroup> <option ng-repeat-end value="{{c.value}}" ng-if="c.type==\'option\'">{{c.name}}</option> </select> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default" ng-click="cancel();">Cancel</button> <button class="btn btn-success" ng-disabled="!transaction.category" ng-click="save()">Save</button> </div> </form>'),a.put("views/transaction/filters.block.html",'<div class="col-xs-12 transaction-filters"> <div class="row"> <div class="col-xs-12"> Bank: <select ng-model="filter.bank" class="form-control"> <option value="">All</option> <option value="OTP">OTP</option> <option value="UKRSIB">UKRSIB</option> </select> </div> <div class="col-xs-12"> Type: <select ng-model="filter.type" class="form-control text-right"> <option value="">All</option> <option value="Deductions">Deductions</option> <option value="Cash">Cash</option> <option value="Income">Income</option> <option value="Spam">Spam</option> <option value="Manual">Manual</option> </select> </div> <div class="col-xs-12"> Status <select ng-model="filter.category" class="form-control"> <option value="all">All</option> <option value="categorized">Categorized</option> <option value="uncategorized">Uncategorized</option> </select> </div> <div class="col-xs-12" ng-if="filter.category===\'categorized\'"> Category <select ng-model="filter.byCategory" class="form-control" ng-options="o.value as o.name for o in categoryService.data.categoryOptions"> <option value="">All Categories</option> </select> </div> <div class="col-xs-12"> From: <br><input type="date" class="form-control inline" ng-model="filter.from"> </div> <div class="col-xs-12"> To: <br><input type="date" class="form-control inline" ng-model="filter.to"> </div> <div class="visible-xs col-xs-12"> <hr> <button class="btn btn-success pull-right" ng-click="_.showFilter = false;"> Apply </button> <a href="#!/filter/list" class="text-center"> Show Filters</a> </div> </div> </div>'),a.put("views/transaction/list-item.html",'<div class="row"> <div class="col-xs-12"> <i class="glyphicon glyphicon-remove pull-right" ng-click="transactionService.removeTransaction(data).then(transactionsInit)" ng-if="data.type===\'Manual\'"></i> <b>{{data.type===\'Deductions\'?data.name || data.place:( data.type===\'Manual\'?data.name:data.type)}}</b> </div> <div class="col-xs-12" ng-if="data.type===\'Spam\'"> {{data.sms_body}} </div> <div class="col-xs-6" title="{{data.date}}"> <span class="date">{{data.date|date:\'HH:mm dd/MM/yyyy\'}}</span> </div> <div class="col-xs-6 text-right" ng-if="data.type!==\'Spam\'"> {{data.amount}} </div> <div class="col-xs-4" ng-class="{\'col-xs-6 text-right\':data.type===\'Spam\'}"> {{data.bank||data.from}} </div> <div class="col-xs-8 text-right" ng-if="data.type!==\'Spam\'"> {{data.category||data.to}} <button class="btn btn-primary btn-wide" ng-if="!data.category&&!data.to" ng-click="transactionService.categorizeTransaction(data)"> Categorize </button> </div> </div>'),a.put("views/transaction/list.page.html",'<div class="app-main-row"> <i class="glyphicon glyphicon-filter head-menu-icon visible-xs" ng-click="_.showFilter = !_.showFilter"></i> <div class="hidden-xs col-sm-3 app-main-col col-menu" ng-include="\'views/app/menu.html\'"></div> <div class="col-xs-12 col-sm-4 col-lg-4 app-main-col col-items" ng-class="{\'hidden-xs\':!_.showFilter}" ng-include="\'views/transaction/filters.block.html\'"></div> <div class="col-xs-12 col-sm-6 col-lg-4 app-main-col col-details" ng-class="{\'hidden-xs\':_.showFilter}" ng-include="\'views/transaction/list.view.html\'"></div> </div> <button class="main-action btn btn-success" ng-click="transactionService.addTransaction().then(transactionsInit);"> <i class="glyphicon glyphicon-plus"></i> </button>'),a.put("views/transaction/list.view.html",'<ul class="app-list"> <li ng-repeat="data in trResults = (transactionList|filter:filterTransactions)" ng-include="\'views/transaction/list-item.html\'"></li> </ul> <div class="no-results" ng-if="trResults.length===0"> No {{isUncategorizedFilter()?\'Uncategorized\':\'\'}} Transactions </div>')}]);